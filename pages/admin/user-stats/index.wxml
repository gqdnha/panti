<view class="container">
    <!-- 搜索框 -->
    <view class="search-box">
        <input type="text" placeholder="请输入搜索关键词" bindinput="onSearchInput" value="{{searchKeyword}}"/>
        <button bindtap="onSearch">搜索</button>
    </view>
    <!-- 题目列表 -->
    <view class="question-list">
        <table class="question-table">
            <thead class="list-header">
                <tr class="table-header">
                    <th class="header-item">用户</th>
                    <th class="header-item">部门</th>
                    <th class="header-item">学习时间（分钟）</th>
                    <th class="header-item">操作</th>
                </tr>
            </thead>
            <tbody class="list-content">
                <tr class="list-item" wx:for="{{userList}}" wx:key="id">
                    <td class="user-name">{{item.name}}</td>
                    <td class="user-count">{{item.department}}</td>
                    <td class="correctRate">{{item.learn_time}}</td>

                    <td class="item-actions">
                        <view class="btn edit" bindtap="viewDetail" data-id="{{item.id}}">详情</view>
                        <!-- <view class="btn export" bindtap="exportUserData" data-id="{{item.id}}">导出</view> -->
                    </td>
                </tr>
            </tbody>
        </table>
    </view>
    <!-- 分页按钮 -->
    <view class="pagination">
        <button bindtap="onPreviousPage" disabled="{{pageNum === 1}}">上一页</button>
        <button bindtap="onNextPage" disabled="{{pageNum === totalPages}}">下一页</button>
    </view>

    <!-- 用户详情模态框 -->
    <view class="modal-mask" wx:if="{{showUserDetailModal}}" bindtap="closeUserDetailModal"></view>
    <view class="modal-container" wx:if="{{showUserDetailModal}}">
        <view class="modal-header">
            <text>用户详情</text>
            <view class="close-btn" bindtap="closeUserDetailModal">×</view>
        </view>
        <view class="modal-body">
            <view class="detail-item">
                <label>姓名：</label>
                <text>{{currentUserDetail.name}}</text>
            </view>
            <view class="detail-item">
                <label>手机号：</label>
                <text>{{currentUserDetail.phone}}</text>
            </view>

            <view class="detail-item">
                <label>部门：</label>
                <text>{{currentUserDetail.department}}</text>
            </view>

            <view class="detail-item">
                <label>学习时间（分钟）：</label>
                <text>{{currentUserDetail.learn_time}}</text>
            </view>

            <view class="detail-item">
                <label>正确率</label>
                <text>{{rightPercent}} %</text>
            </view>

            <!-- 错题本 -->
            <view class="detail-item" bindtap="goToOneWrongBook">
                <label>错题本</label>
                <!-- <text>{{rightPercent}} %</text> -->
            </view>
            <!-- 每日练习 情况 -->
            <view class="detail-item" bindtap="goToOneDaily">
                <label>每日练习</label>
            </view>
        </view>
    </view>
</view>