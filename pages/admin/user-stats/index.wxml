<view class="container">
    <!-- æœç´¢æ¡† -->
    <view class="search-box">
        <input type="text" placeholder="è¯·è¾“å…¥æœç´¢å…³é”®è¯" bindinput="onSearchInput" value="{{searchKeyword}}" />
        <button bindtap="onSearch">æœç´¢</button>
    </view>
    <!-- é¢˜ç›®åˆ—è¡¨ -->
    <view class="question-list">
        <table class="question-table">
            <thead class="list-header">
                <tr class="table-header">
                    <th class="header-item">ç”¨æˆ·</th>
                    <th class="header-item">éƒ¨é—¨</th>
                    <th class="header-item">å­¦ä¹ æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</th>
                    <th class="header-item">æ“ä½œ</th>
                </tr>
            </thead>
            <tbody class="list-content">
                <tr class="list-item" wx:for="{{userList}}" wx:key="id">
                    <td class="user-name">{{item.name}}</td>
                    <td class="user-count">{{item.department}}</td>
                    <td class="correctRate">{{item.learn_time}}</td>

                    <td class="item-actions">
                        <view class="btn edit" bindtap="viewDetail" data-id="{{item.id}}">è¯¦æƒ…</view>
                        <!-- <view class="btn export" bindtap="exportUserData" data-id="{{item.id}}">å¯¼å‡º</view> -->
                    </td>
                </tr>
            </tbody>
        </table>
    </view>
    <!-- åˆ†é¡µæŒ‰é’® -->
    <view class="pagination">
        <button bindtap="onPreviousPage" disabled="{{pageNum === 1}}">ä¸Šä¸€é¡µ</button>
        <button bindtap="onNextPage" disabled="{{pageNum === totalPages}}">ä¸‹ä¸€é¡µ</button>
    </view>

    <!-- ç”¨æˆ·è¯¦æƒ…æ¨¡æ€æ¡† -->
    <view class="modal-mask" wx:if="{{showUserDetailModal}}" bindtap="closeUserDetailModal"></view>
    <view class="modal-container" wx:if="{{showUserDetailModal}}">
        <view class="modal-header">
            <text class="modal-title">ç”¨æˆ·è¯¦æƒ…</text>
            <view class="close-btn" bindtap="closeUserDetailModal">Ã—</view>
        </view>
        <view class="modal-body">
            <view class="user-info-section">
                <view class="detail-item">
                    <label>å§“å</label>
                    <text class="info-text">{{currentUserDetail.name}}</text>
                </view>
                <view class="detail-item">
                    <label>æ‰‹æœºå·</label>
                    <text class="info-text">{{currentUserDetail.phone}}</text>
                </view>
                <view class="detail-item">
                    <label>éƒ¨é—¨</label>
                    <text class="info-text">{{currentUserDetail.department}}</text>
                </view>
                <view class="detail-item">
                    <label>å­¦ä¹ æ—¶é—´</label>
                    <text class="info-text highlight">{{currentUserDetail.learn_time}} åˆ†é’Ÿ</text>
                </view>
                <view class="detail-item">
                    <label>æ­£ç¡®ç‡</label>
                    <text class="info-text highlight">{{rightPercent}}%</text>
                </view>
            </view>
            
            <view class="action-buttons"> 
                <view class="function-item" bindtap="goToOneWrongBook">
                    <button class="action-btn wrong-book">
                        <!-- <text class="btn-icon">ğŸ“š</text> -->
                        <text class="btn-text">é”™é¢˜æœ¬</text>
                    </button>
                </view>
                <view class="function-item" bindtap="goToOneDaily">
                    <button class="action-btn daily-practice">
                        <!-- <text class="btn-icon">ğŸ“</text> -->
                        <text class="btn-text">æ¯æ—¥ç»ƒä¹ </text>
                    </button>
                </view>
            </view>
        </view>
    </view>
</view>